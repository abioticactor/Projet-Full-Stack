@using Microsoft.AspNetCore.Components.Web
@using Microsoft.AspNetCore.Components.Web.Virtualization
@inject Projet_FullStack_FrontEnd.Services.AuthService AuthService

<!-- Le routage est implémenté dans Components/Routes.razor -->
@if (_initialized)
{
    <Routes />
}
else
{
    <div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
        <p>Chargement...</p>
    </div>
}

@code {
    private bool _initialized = false;

    protected override async Task OnInitializedAsync()
    {
        await AuthService.InitializeAsync();
        _initialized = true;
    }
}
